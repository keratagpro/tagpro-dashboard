<!DOCTYPE html>
<html>
	<head>
		<title>TagPro Live Scoreboard</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="overview2.css" rel="stylesheet" media="screen">
	</head>
	<body class="page-overview">
		<div class="container">
			<table class="overview-table table">
				<thead>
					<tr class="score" data-bind="with: score">
						<td class="title"></td>
						<td colspan="2">
							<span>
								<span class="sprite-tiles sprite-redball"></span>
								<span class="score-red" data-bind="text: r"></span>
							</span> -
							<span>
								<span class="score-blue" data-bind="text: b"></span>
								<span class="sprite-tiles sprite-blueball"></span>
							</span>
						</td>
					</tr>
				</thead>
				<tr>
					<td class="title"></td>
					<td class="player red" data-bind="template: { name: 'player-template', foreach: playersRed }">
					</td>
					<td class="player blue" data-bind="template: { name: 'player-template', foreach: playersBlue }">
					</td>
				</tr>
			</table>

			<h4>Team Statistics</h4>
			<table class="overview-table table">
				<tr>
					<td class="title">Hold</td>
					<td class="red">
						<span data-bind="text: holdRed"></span>
					</td>
					<td class="blue">
						<span data-bind="text: holdBlue"></span>
					</td>
				</tr>
				<tr>
					<td class="title">Score</td>
					<td class="red">
						<span data-bind="text: scoreRed"></span>
					</td>
					<td class="blue">
						<span data-bind="text: scoreBlue"></span>
					</td>
				</tr>
				<tr>
					<td class="title">Powerups</td>
					<td class="red">
						<span data-bind="text: powerupsRed"></span>
					</td>
					<td class="blue">
						<span data-bind="text: powerupsBlue"></span>
					</td>
				</tr>
			</table>
		</div>

		<form method="get" class="form-horizontal">
			<div class="modal fade" id="startDialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">TagPro Live Scoreboard</h4>
						</div>
						<div class="modal-body">
							<p>Copy the link of the game you are spectating here:</p>
							<div class="form-group">
								<div class="col-sm-12">
									<input type="text" class="form-control" name="host" data-bind="value: host" placeholder="http://tagpro-chord.koalabeast.com:8000">
								</div>
							</div>
							<p><span class="text-success">ProTip</span>: Drag this bookmarklet into your bookmarks bar and click on it when you are spectating a game: [<a data-bind="attr: { href: bookmarkletLink }" href="#">TagPro Scoreboard</a>]</p>
						</div>
						<div class="modal-footer">
							<button type="submit" class="btn btn-default">Launch here</button>
							<button type="button" class="btn btn-primary" data-bind="click: launchPopup">Launch Popup</button>
						</div>
					</div>
				</div>
			</div>
		</form>

		<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="http://tagpro-chord.koalabeast.com:443/socket.io/socket.io.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
		<script src="knockout.mapping-latest.js"></script>
		<script src="purl.js"></script>

		<script type="text/html" id="player-template">
			<p>
				<span class="icons">
					<span class="flag sprite-tiles sprite-small" data-bind="visible: flag, style: spriteFlag"></span>
					<span class="grip sprite-tiles sprite-small" data-bind="visible: grip, style: spriteGrip"></span>
					<span class="bomb sprite-tiles sprite-small" data-bind="visible: bomb, style: spriteBomb"></span>
					<span class="tagpro sprite-tiles sprite-small" data-bind="visible: tagpro, style: spriteTagpro"></span>
				</span>
				<span class="flair sprite-flair" data-bind="visible: flair, style: spriteFlair"></span>
				<span class="name" data-bind="text: name, css: { dead: dead }, attr: { title: title }"></span>
			</p>
		</script>

		<script src="overview2.js"></script>
	</body>
</html>